!function(_,A){"use strict";function o(p,y,z,t,e){function r(){v=1<_.devicePixelRatio,z=a(z),0<=y.delay&&setTimeout(function(){n(!0)},y.delay),(y.delay<0||y.combined)&&(t.e=function(n,i){var o,l=0;return function(t,e){function r(){l=+new Date,i.call(p,t)}var a=+new Date-l;o&&clearTimeout(o),n<a||!y.enableThrottle||e?r():o=setTimeout(r,n-a)}}(y.throttle,function(t){"resize"===t.type&&(L=T=-1),n(t.all)}),t.a=function(t){t=a(t),z.push.apply(z,t)},t.g=function(){return z=S(z).filter(function(){return!S(this).data(y.loadedName)})},t.f=function(t){for(var e=0;e<t.length;e++){var r=z.filter(function(){return this===t[e]});r.length&&n(!1,r)}},n(),S(y.appendScroll).on("scroll."+e+" resize."+e,t.e))}function a(t){for(var e=y.defaultImage,r=y.placeholder,a=y.imageBase,n=y.srcsetAttribute,i=y.loaderAttribute,o=y._f||{},l=0,u=(t=S(t).filter(function(){var t=S(this),e=B(this);return!t.data(y.handledName)&&(t.attr(y.attribute)||t.attr(n)||t.attr(i)||o[e]!==A)}).data("plugin_"+y.name,p)).length;l<u;l++){var f=S(t[l]),c=B(t[l]),s=f.attr(y.imageBaseAttribute)||a;c===E&&s&&f.attr(n)&&f.attr(n,d(f.attr(n),s)),o[c]===A||f.attr(i)||f.attr(i,o[c]),c===E&&e&&!f.attr(F)?f.attr(F,e):c===E||!r||f.css(R)&&"none"!==f.css(R)||f.css(R,"url('"+r+"')")}return t}function n(t,e){if(z.length){for(var r=e||z,a=!1,n=y.imageBase||"",i=y.srcsetAttribute,o=y.handledName,l=0;l<r.length;l++)if(t||e||(A=r[l],void 0,g=A.getBoundingClientRect(),h=y.scrollDirection,m=y.threshold,b=(0<=T?T:T=S(_).height())+m>g.top&&-m<g.bottom,v=(0<=L?L:L=S(_).width())+m>g.left&&-m<g.right,"vertical"===h?b:"horizontal"===h?v:b&&v)){var u=S(r[l]),f=B(r[l]),c=u.attr(y.attribute),s=u.attr(y.imageBaseAttribute)||n,d=u.attr(y.loaderAttribute);u.data(o)||y.visibleOnly&&!u.is(":visible")||!((c||u.attr(i))&&(f===E&&(s+c!==u.attr(F)||u.attr(i)!==u.attr(C))||f!==E&&s+c!==u.css(R))||d)||(a=!0,u.data(o,!0),w(u,f,s,d))}var A,g,h,m,b,v;a&&(z=S(z).filter(function(){return!S(this).data(o)}))}else y.autoDestroy&&p.destroy()}function w(e,t,r,a){++b;var n=function(){m("onError",e),h(),n=S.noop};m("beforeLoad",e);var i=y.attribute,o=y.srcsetAttribute,l=y.sizesAttribute,u=y.retinaAttribute,f=y.removeAttribute,c=y.loadedName,s=e.attr(u);if(a){var d=function(){f&&e.removeAttr(y.loaderAttribute),e.data(c,!0),m(D,e),setTimeout(h,1),d=S.noop};e.off(N).one(N,n).one(I,d),m(a,e,function(t){t?(e.off(I),d()):(e.off(N),n())})||e.trigger(N)}else{var A=S(new Image);A.one(N,n).one(I,function(){e.hide(),t===E?e.attr(O,A.attr(O)).attr(C,A.attr(C)).attr(F,A.attr(F)):e.css(R,"url('"+A.attr(F)+"')"),e[y.effect](y.effectTime),f&&(e.removeAttr(i+" "+o+" "+u+" "+y.imageBaseAttribute),l!==O&&e.removeAttr(l)),e.data(c,!0),m(D,e),A.remove(),h()});var g=(v&&s?s:e.attr(i))||"";A.attr(O,e.attr(l)).attr(C,e.attr(o)).attr(F,g?r+g:null),A.complete&&A.trigger(I)}}function B(t){return t.tagName.toLowerCase()}function d(t,e){if(e){var r=t.split(",");t="";for(var a=0,n=r.length;a<n;a++)t+=e+r[a].trim()+(a!==n-1?",":"")}return t}function h(){--b,z.length||b||m("onFinishedAll")}function m(t,e,r){return!!(t=y[t])&&(t.apply(p,[].slice.call(arguments,1)),!0)}var b=0,L=-1,T=-1,v=!1,D="afterLoad",I="load",N="error",E="img",F="src",C="srcset",O="sizes",R="background-image";"event"===y.bind||i?r():S(_).on(I+"."+e,r)}function f(t,e){var r=this,a=S.extend({},r.config,e),n={},i=a.name+"-"+ ++l;return r.config=function(t,e){return e===A?a[t]:(a[t]=e,r)},r.addItems=function(t){return n.a&&n.a("string"===S.type(t)?S(t):t),r},r.getItems=function(){return n.g?n.g():{}},r.update=function(t){return n.e&&n.e({},!t),r},r.force=function(t){return n.f&&n.f("string"===S.type(t)?S(t):t),r},r.loadAll=function(){return n.e&&n.e({all:!0},!0),r},r.destroy=function(){return S(a.appendScroll).off("."+i,n.e),S(_).off("."+i),n={},A},o(r,a,t,n,i),a.chainable?t:r}var S=_.jQuery||_.Zepto,l=0,i=!1;S.fn.Lazy=S.fn.lazy=function(t){return new f(this,t)},S.Lazy=S.lazy=function(t,e,r){if(S.isFunction(e)&&(r=e,e=[]),S.isFunction(r)){t=S.isArray(t)?t:[t],e=S.isArray(e)?e:[e];for(var a=f.prototype.config,n=a._f||(a._f={}),i=0,o=t.length;i<o;i++)a[t[i]]!==A&&!S.isFunction(a[t[i]])||(a[t[i]]=r);for(var l=0,u=e.length;l<u;l++)n[e[l]]=t[0]}},f.prototype.config={name:"lazy",chainable:!0,autoDestroy:!0,bind:"load",threshold:500,visibleOnly:!1,appendScroll:_,scrollDirection:"both",imageBase:null,defaultImage:"data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==",placeholder:null,delay:-1,combined:!1,attribute:"data-src",srcsetAttribute:"data-srcset",sizesAttribute:"data-sizes",retinaAttribute:"data-retina",loaderAttribute:"data-loader",imageBaseAttribute:"data-imagebase",removeAttribute:!0,handledName:"handled",loadedName:"loaded",effect:"show",effectTime:0,enableThrottle:!0,throttle:250,beforeLoad:A,afterLoad:A,onError:A,onFinishedAll:A},S(_).on("load",function(){i=!0})}(window);