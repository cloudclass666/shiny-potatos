var WOF;!function(t){var e=function(){function t(t,e){void 0===e&&(e={amt:90,angle:55,spread:285,sv:55,decay:.77}),this.colors=["#a864fd","#29cdff","#78ff44","#ff718d","#fdff6a"];var a=this.create(t,e.amt,this.colors),n=this,s=a.map(function(t){return{element:t,physics:n.physics(e.angle,e.spread,e.sv,Math.random)}});this.animate(t,s,e.decay)}return t.prototype.shape=function(t){var e=[function(t){var e=Math.round(10*(Math.random()+.5))+"px";return t.style.width=e,t.style.height=e,t},function(t){var e=Math.round(10*(Math.random()+.5))+"px";return t.style.width=e,t.style.height=e,t.style["border-radius"]="50%",t}];return e[Math.floor(Math.random()*e.length)](t)},t.prototype.create=function(t,e,a){for(var n=[],s=0;s<e;s++){var r=document.createElement("div");r.style["background-color"]=a[s%a.length],r.style.position="absolute",r.style.zIndex="9999999999",t.appendChild(this.shape(r)),n.push(r)}return n},t.prototype.physics=function(t,e,a,n){var s=t*(Math.PI/180),r=e*(Math.PI/180);return{x:0,y:0,w:10*n(),v:.5*a+n()*a,angle2D:-s+(.5*r-n()*r),angle3D:-Math.PI/4+n()*(Math.PI/2),tilt:n()*Math.PI}},t.prototype.updateFetti=function(t,e,a){t.physics.x+=Math.cos(t.physics.angle2D)*t.physics.v,t.physics.y+=Math.sin(t.physics.angle2D)*t.physics.v,t.physics.z+=Math.sin(t.physics.angle3D)*t.physics.v,t.physics.w+=.1,t.physics.v*=a,t.physics.y+=3,t.physics.tilt+=.1;var n=t.physics,s=n.x,r=n.y,i=n.tilt,o=n.w,h=s+10*Math.cos(o),c=r+10*Math.sin(o),p="translate3d("+h+"px, "+c+"px, 0) rotate3d(1, 1, 1, "+i+"rad)";t.element.style.transform=p,t.element.style.opacity=1-e},t.prototype.animate=function(t,e,a){function n(){e.forEach(function(t){return i.updateFetti(t,r/s,a)}),r+=1,r<s?requestAnimationFrame(n):e.forEach(function(e){if(e.element.parentNode===t)return t.removeChild(e.element)})}var s=200,r=0,i=this;requestAnimationFrame(n)},t}();t.Fetti=e}(WOF||(WOF={}));
!function(e){var n=function(){function e(){}return e.set=function(e,n,o){if(!e||/^(?:expires|max\-age|path|domain|secure)$/i.test(e))return!1;var t="";if(o){var i=new Date;i.setTime(i.getTime()+24*o*60*60*1e3),t=";expires="+i.toUTCString()}return document.cookie=encodeURIComponent(e)+"="+encodeURIComponent(n)+t+"; path=/",!0},e.has=function(e){return!!e&&new RegExp("(?:^|;\\s*)"+encodeURIComponent(e).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=").test(document.cookie)},e.remove=function(e){return!!this.has(e)&&(document.cookie=encodeURIComponent(e)+"=; expires=Thu, 01 Jan 1970 00:00:00 GMT; path=/",!0)},e}();e.Cookie=n}(WOF||(WOF={}));
!function(t){var e=function(){function e(t,e,i){var s=this;if(this.element=t,this.duration=e,this.period=i,this.wheelId=this.element.data("id"),this.element&&this.element.find(".wof-bar-close").on("click",function(t){t.preventDefault(),s.hide()}),null!==sessionStorage.getItem("wof-cb-"+this.wheelId)){var n=sessionStorage.getItem("wof-cb-"+this.wheelId).split("--");this.show(n[0],parseInt(n[1]))}}return e.prototype.show=function(e,i){if(t.Dispatcher.applyFilter("wof-show-couponbar",!0)){var s=i||(new Date).getTime()/1e3;this.element.find(".wof-bar-code").text(e),sessionStorage.setItem("wof-cb-"+this.wheelId,e+"--"+s),this.startTicking(s),this.element.show()}},e.prototype.hide=function(){sessionStorage.removeItem("wof-cb-"+this.wheelId),this.element.remove(),clearInterval(this.interval)},e.prototype.startTicking=function(t){var e=this,i=".wof-bar-",s=this.element.find(i+"d"),n=this.element.find(i+"h"),o=this.element.find(i+"m"),h=this.element.find(i+"s"),a=t,r=a,d=(new Date).getTime()/1e3;switch(this.period){case"minutes":r=a+60*this.duration;break;case"hours":r=a+3600*this.duration;break;case"days":r=a+86400*this.duration}var l=r-d,f=function(){l--;var t={days:Math.floor(l/86400),hours:Math.floor(l%86400/3600),minutes:Math.floor(l%86400%3600/60),seconds:Math.floor(l%86400%3600%60%60)};s.html(t.days+s.data("text")),n.html(t.hours+n.data("text")),o.html(t.minutes+o.data("text")),h.html(t.seconds+h.data("text")),0==t.days&&s.hide(),0==t.hours&&n.hide(),0==t.minutes&&o.hide(),l<=0&&e.hide()};f(),this.interval=setInterval(function(){f()},1e3)},e}();t.CouponBar=e}(WOF||(WOF={}));
!function(t){var i=function(){function t(){}return t.addFilter=function(t,i){this.f[t]||(this.f[t]=[]),this.f[t].push(i)},t.hasFilter=function(t){return!!this.f[t]},t.applyFilter=function(i,n){if(!t.hasFilter(i))return n;var h=n;return this.f[i].forEach(function(t){h=t(h)}),h},t.subscribe=function(t,i){this.hOP.call(this.t,t)||(this.t[t]=[]),this.t[t].push(i)},t.publish=function(t,i){this.hOP.call(this.t,t)&&this.t[t].forEach(function(t){t(void 0!=i?i:{})})},t.f=[],t.t=[],t.hOP=[].hasOwnProperty,t}();t.Dispatcher=i}(WOF||(WOF={}));
!function(e){var a=function(){function a(){}return a.getFormFieldValues=function(e){var a=[],t=e.find(".wof-form-fields input,.wof-form-fields select");return jQuery.each(t,function(e,t){var o=jQuery(t),r=o.data("type");"primary_email"!=r&&a.push({id:o.data("field-id"),value:"consent_checkbox"==r?o.is(":checked"):o.val(),type:r})}),a},a.buildForm=function(a){var t=[];return a.length?(a.forEach(function(a){a.options&&"string"==typeof a.options&&(a.options=JSON.parse(a.options)),t.push(e.FormBuilder.createField(a))}),t):[]},a.createField=function(e){e.type=e.type.toLowerCase();var a=jQuery("<div>"),t=null;switch(e.type){case"dropdown":t=jQuery("<select>");break;case"consent_checkbox":t=jQuery('<input type="checkbox">');break;default:t=jQuery('<input type="'+("number"===e.type?"number":"primary_email"===e.type?"email":"text")+'">').attr("placeholder",e.placeholder)}t.data("type",e.type).data("fieldId",e.id?e.id:"");var o=function(e,a,t){t.data("mask").getRegexMask().test(e)?t.data("mask-validated",!0):t.data("mask-validated",!1)};switch(e.type){case"primary_email":t.attr("name","wof-email");break;case"date":t.mask("00/00/0000",{placeholder:e.placeholder+" ("+(e.options.date_format?e.options.date_format:"__/__/____")+")",onChange:o});break;case"birthday":t.mask("00/00",{placeholder:e.placeholder+" ("+(e.options.date_format?e.options.date_format:"__/__")+")",onChange:o});break;case"zip":t.mask("00000X9999",{placeholder:"",onChange:o,translation:{X:{pattern:/-/,optional:!0}}});break;case"phone":e.options.phone_format&&"US"==e.options.phone_format?t.mask("(999) 999-9999",{placeholder:"",onChange:o}):t.mask("Z0#",{translation:{Z:{pattern:/[\-\+]/,optional:!0}}});break;case"dropdown":e.placeholder&&t.append(jQuery('<option value="">'+e.placeholder+"</option>")),e.options&&e.options.choices&&e.options.choices.forEach(function(e){t.append(jQuery('<option value="'+e+'">'+e+"</option>"))})}return a.append(t),e.required&&t.data("wof-required","primary_email"===e.type||"email"===e.type?"email":"consent_checkbox"===e.type?"checked":"text"),"consent_checkbox"===e.type&&(t.attr("id","ckb-"+e.id),a.append('<label class="wof-fgcolor" for="ckb-'+e.id+'">'+e.placeholder+"</label>")),a},a}();e.FormBuilder=a}(WOF||(WOF={}));
!function(e){var n=function(){function n(){this.bars=[],this.init()}return n.prototype.init=function(){var n=this;jQuery(".wof-coupon-bar").each(function(t,o){var i=jQuery(o);n.bars.push(new e.CouponBar(i,i.data("duration"),i.data("timeframe")))}),jQuery(".wof-wheel").each(function(t,o){for(var i=jQuery(o),r=i.data("id"),a=null,t=0;t<n.bars.length;t++)if(n.bars[t].wheelId==r){a=n.bars[t];break}var s=i.data("standalone"),l=new e.Wheel(i,r,i.data("options"),i.data("seq"),s,a);l.widgets=jQuery(".wof-widget[data-id="+l.id+"]"),e.Frontend.wheels.push(l);var u=e.FormBuilder.buildForm(i.data("fields"));jQuery.each(u,function(e,n){l.element.find(".wof-form-fields").append(n)}),l.element.find(".wof-bg,.wof-bottom-bg").css("height",s?"100%":l.element.find(".wof-wrapper").outerHeight(!0)),l.canShowWidgets()&&l.widgets.show().addClass("wof-visible")}),jQuery(window).resize(function(){e.Frontend.wheels.forEach(function(e){e.standalone||e.element.find(".wof-bg,.wof-bottom-bg").css("height",e.element.find(".wof-wrapper").outerHeight(!0))})}),this.initFormSubmit(),this.initWheelEvents(),this.initShowWheels(),jQuery(document).trigger("wof:init")},n.prototype.getScrollPercentage=function(){var e=jQuery(window).scrollTop()/(jQuery(document).height()-jQuery(window).height());return Math.round(100*e)},n.prototype.initShowWheels=function(){function n(e,n){var o=function(){t.getScrollPercentage()>=n&&(e.show("scroll"),jQuery(window).off("scroll",o))};jQuery(window).on("scroll",o)}var t=this;e.Frontend.wheels.forEach(function(o){if(o.standalone)return void o.show("standalone");if(o.widgets.on("click",function(e){o.show("widget")}),jQuery.inArray("immediately",o.options.appear)>-1&&o.show("immediately"),jQuery.inArray("click",o.options.appear)>-1&&o.options.selector){var i=0===o.options.selector.lastIndexOf("#",0)?"#":".";jQuery("body").on("click",i+o.options.selector.replace(/[#\.]/g,""),function(e){e.preventDefault(),o.show("click")})}if(jQuery.inArray("delay",o.options.appear)>-1&&setTimeout(function(){o.show("delay")},1e3*o.options.delay),jQuery.inArray("exit",o.options.appear)>-1)if(e.Helpers.isDevice("mobile")){var r=0,a=function(){var e=jQuery(this).scrollTop();if(e<r){if(t.getScrollPercentage()<25)return;if(r-e<60)return;o.show("exit-mobile"),jQuery(window).off("scroll",a)}else r=e};jQuery(window).on("scroll",a)}else{var s;document.documentElement.addEventListener("mouseleave",function(e){e.clientY>20||(s=setTimeout(function(){o.show("exit")},100))}),document.documentElement.addEventListener("mouseenter",function(e){s&&clearTimeout(s)})}jQuery.inArray("scroll",o.options.appear)>-1&&n(o,o.options.scroll)})},n.prototype.initWheelEvents=function(){e.Frontend.wheels.forEach(function(e){e.element.on("click",".wof-close",function(n){n.preventDefault(),e.hide()}),e.element.find(".wof-response").on("click",".wof-btn-again",function(n){n.preventDefault(),e.element.find(".wof-spinning").removeClass("wof-spinning").css("animationName","unset").addClass("wof-spinning"),e.game.start()}),e.element.on("keypress change","input,input[type=checkbox],select",function(e){jQuery(e.currentTarget).removeClass("wof-form-error")})})},n.prototype.initFormSubmit=function(){e.Frontend.wheels.forEach(function(n){n.element.find(".wof-btn-submit").off("click").on("click",function(t){t.preventDefault(),e.Dispatcher.publish("wof-submit-clicked",n);var o=!e.Dispatcher.hasFilter("wof-can-optin")||e.Dispatcher.applyFilter("wof-can-optin",n);if(e.Helpers.validateForm(n)&&o){e.Helpers.triggerLoading(jQuery(t.currentTarget));var i=n.element.find('input[name="wof-email"]').val(),r=e.FormBuilder.getFormFieldValues(n.element);e.Helpers.optIn(n.id,i,n.game.sequence,n.game.sequence,r).then(function(t){if(n.game.mail=i,!1===t.success)return e.Helpers.triggerError(n.element,t.data),void e.Helpers.triggerLoading(n.element.find(".wof-btn-submit"));jQuery(document).trigger("wof:optin",{wheel:n.id,email:i,fields:r}),e.Cookie.set("wof-"+n.id,"1",365),n.game.start(t.data,r),e.Dispatcher.publish("wof-after-game-start",n)})}})})},n.wheels=[],n}();e.Frontend=n}(WOF||(WOF={})),jQuery(window).on("load",function(){new WOF.Frontend}),WOF=WOF;
!function(e){var t=function(){function t(e,t,i,n,s,o){void 0===o&&(o=null),this.game=0,this.audio=null,this.$wheelElement=e,this.wheelId=t,this.sequence=s,this.previousSequence=s,this.maxPlays=i+1,this.status="idle",this.onGameCompleted=o,n&&(this.audio=new Audio(wofVars.baseUrl+"public/tick.mp3"))}return t.prototype.start=function(t,i){var n=this;void 0===t&&(t=null),void 0===i&&(i=[]),this.canStartNewGame()&&(this.status="playing",this.game++,t?this.doPlay(t):(e.Helpers.triggerLoading(this.$wheelElement.find(".wof-btn-submit,.wof-btn-again")),e.Helpers.getSegment(this.wheelId,this.sequence,this.previousSequence,this.mail,i).then(function(e){if(!1===e.success)return n.triggerGameError(e.data);n.doPlay(e.data)})))},t.prototype.end=function(t){e.Helpers.setResultText(this.$wheelElement,t),this.status="idle","function"==typeof this.onGameCompleted&&(t.winning||this.game>=this.maxPlays)&&this.onGameCompleted(t)},t.prototype.triggerGameError=function(t){this.status="idle",e.Helpers.triggerError(this.$wheelElement,t),e.Helpers.triggerLoading(this.$wheelElement.find(".wof-btn-submit,.wof-btn-again"))},t.prototype.doPlay=function(e){var t=this;this.previousSequence=this.sequence?this.sequence:e.seq,this.sequence=e.seq,this.doAnimation(e.segment,function(){t.end(e),jQuery(document).trigger("wof:play",{wheel:t.wheelId,email:t.mail,winning:e.winning,segment:e.segment,segment_text:e.text,segment_prize:e.value})})},t.prototype.canStartNewGame=function(){return this.game<=this.maxPlays&&"playing"!==this.status},t.prototype.doAnimation=function(t,i){var n,s,o=this,a=this.$wheelElement.data("slice-count"),r=360/a,l=0,h=2*a+(a-t)+1,m=r/2,u=this.$wheelElement.find(".wof-spinning"),d=this.$wheelElement.find(".wof-pointer");jQuery("#wof-"+this.wheelId+"-anim").remove();var f=(t-1)*r,w="@-webkit-keyframes wof-spin-"+this.wheelId+"{from{ -webkit-transform: rotate(0deg); }to { -webkit-transform: rotate("+(1080-f)+"deg); }}",p="@keyframes wof-spin-"+this.wheelId+"{ from{ transform: rotate(0deg); }to{ transform: rotate("+(1080-f)+"deg); } }";jQuery("head").append('<style id="wof-'+this.wheelId+'-anim" type="text/css">'+w+p+"</style>"),u.css("animationName","wof-spin-"+this.wheelId),n=setInterval(function(){var t=e.Helpers.getRotationDegrees(u.first()),f=Math.floor(l/a),w=m+l*r-5;w-=360*f;t>=w&&t<w+50&&(++l,o.audio&&new Audio(wofVars.baseUrl+"public/tick.mp3").play(),clearTimeout(s),s=setTimeout(function(){d.removeClass("do-nudge")},e.Helpers.calcAnimTimeOut(0,h)),d.addClass("do-nudge")),l>=h&&(clearInterval(n),"function"==typeof i&&setTimeout(function(){i()},100))},0)},t}();e.Game=t}(WOF||(WOF={}));
!function(e){var t=function(){function t(){}return t.validateForm=function(t){var i=t.element.find("input,select"),n=!0;return jQuery.each(i,function(t,i){var r=jQuery(i),a=r.data("fieldId"),o=r.data("wof-required"),s=r.val(),f=!0;switch(o){case"email":-1!==s.indexOf("@")&&-1!==s.indexOf(".")||(f=!1);break;case"text":s.length||(f=!1);break;case"checked":r.is(":checked")||(f=!1)}r.data("mask")&&!1===r.data("mask-validated")&&(f=!1),e.Dispatcher.hasFilter("wof-validate-"+a)&&(f=e.Dispatcher.applyFilter("wof-validate-"+a,{id:a,value:s,$input:r})),f||(n=!1,r.addClass("wof-form-error do-form-nudge"),setTimeout(function(){r.removeClass("do-form-nudge")},300))}),n},t.isDevice=function(e){return jQuery(".wof-"+e+"-check").is(":visible")},t.registerView=function(t){if(wofVars){var i=!0;i=e.Dispatcher.applyFilter("wof-register-view",i),i&&jQuery.post(wofVars.ajaxurl,{action:"wof-register-view",nonce:e.Helpers.nonce(),id:t})}},t.getSegment=function(t,i,n,r,a){return jQuery.post(wofVars.ajaxurl,{action:"wof-play",id:t,mail:r,seq:i,pseq:n,nonce:e.Helpers.nonce(),fields:JSON.stringify(a)}).then(function(e){return e})},t.optIn=function(t,i,n,r,a){var o=e.Dispatcher.applyFilter("wof-optin-request-data",{action:"wof-email-optin",id:t,mail:i,seq:n,pseq:r,nonce:e.Helpers.nonce(),fields:JSON.stringify(a)});return jQuery.post(wofVars.ajaxurl,o).then(function(e){return e})},t.setOccurance=function(t,i,n){void 0===n&&(n=null);var r="wof-"+i;switch(localStorage.removeItem(r),sessionStorage.removeItem(r),e.Cookie.remove(r),t){case"session":sessionStorage.setItem(r,"1");break;case"storage":e.Cookie.set(r,"1",500),localStorage.setItem(r,"1");break;case"time":e.Cookie.set(r,"1",n)}},t.nonce=function(){return jQuery("[data-wof-nonce]").data("wof-nonce")},t.triggerError=function(e,t){e.find(".wof-error").html(t).fadeIn("fast"),setTimeout(function(){e.find(".wof-error").fadeOut("fast")},7e3)},t.triggerLoading=function(e){var t=e.find("span");t.is(":visible")?(e.attr("disabled",!0).find(".wof-loader").show(),t.hide()):(t.show(),e.attr("disabled",!1).find(".wof-loader").hide())},t.calcAnimTimeOut=function(e,t){var i=200/(t/e);return Math.round(i<100?100:i)},t.setResultText=function(t,i){var n=t.find(".wof-right-inner");n.fadeOut(150,function(){var r=".wof-";if(t.find(r+"form-fields").remove(),t.find(r+"title").html(i.title),t.find(r+"explainer").html(i.text),t.find(r+"btn-submit").hide(),t.find(r+"disclaimer").hide(),t.find(r+"fb-checkbox").hide(),3==i.type){var a=e.Dispatcher.applyFilter("wof-redirect-time",800);setTimeout(function(){location.href=e.Dispatcher.applyFilter("wof-redirect-link",i.value)},a)}else if(i.value){var o=4==i.type?jQuery('<div class="wof-winnings">'):jQuery('<input type="text">');4==i.type?o.html(i.value):o.val(i.value),t.find(".wof-form-wrapper").prepend(o)}i.html&&t.find(r+"response").html(i.html),n.fadeIn(150)})},t.getRotationDegrees=function(e){var t=e.css("-webkit-transform")||e.css("transform");if("none"!==t)var i=t.split("(")[1].split(")")[0].split(","),n=i[0],r=i[1],a=Math.round(Math.atan2(r,n)*(180/Math.PI));else var a=0;return a<0&&(a+=360),a},t}();e.Helpers=t}(WOF||(WOF={}));
!function(a){var t=function(t,e,n){var s={invalid:[],getCaret:function(){try{var a,e=0,n=t.get(0),r=document.selection,o=n.selectionStart;return r&&-1===navigator.appVersion.indexOf("MSIE 10")?(a=r.createRange(),a.moveStart("character",-s.val().length),e=a.text.length):(o||"0"===o)&&(e=o),e}catch(a){}},setCaret:function(a){try{if(t.is(":focus")){var e,n=t.get(0);n.setSelectionRange?n.setSelectionRange(a,a):(e=n.createTextRange(),e.collapse(!0),e.moveEnd("character",a),e.moveStart("character",a),e.select())}}catch(a){}},events:function(){t.on("keydown.mask",function(a){t.data("mask-keycode",a.keyCode||a.which),t.data("mask-previus-value",t.val()),t.data("mask-previus-caret-pos",s.getCaret()),s.maskDigitPosMapOld=s.maskDigitPosMap}).on(a.jMaskGlobals.useInput?"input.mask":"keyup.mask",s.behaviour).on("paste.mask drop.mask",function(){setTimeout(function(){t.keydown().keyup()},100)}).on("change.mask",function(){t.data("changed",!0)}).on("blur.mask",function(){i===s.val()||t.data("changed")||t.trigger("change"),t.data("changed",!1)}).on("blur.mask",function(){i=s.val()}).on("focus.mask",function(t){!0===n.selectOnFocus&&a(t.target).select()}).on("focusout.mask",function(){n.clearIfNotMatch&&!r.test(s.val())&&s.val("")})},getRegexMask:function(){for(var a,t,n,s,r,i,l=[],c=0;c<e.length;c++)a=o.translation[e.charAt(c)],a?(t=a.pattern.toString().replace(/.{1}$|^.{1}/g,""),n=a.optional,s=a.recursive,s?(l.push(e.charAt(c)),r={digit:e.charAt(c),pattern:t}):l.push(n||s?t+"?":t)):l.push(e.charAt(c).replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&"));return i=l.join(""),r&&(i=i.replace(new RegExp("("+r.digit+"(.*"+r.digit+")?)"),"($1)?").replace(new RegExp(r.digit,"g"),r.pattern)),new RegExp(i)},destroyEvents:function(){t.off(["input","keydown","keyup","paste","drop","blur","focusout",""].join(".mask "))},val:function(a){var e,n=t.is("input"),s=n?"val":"text";return arguments.length>0?(t[s]()!==a&&t[s](a),e=t):e=t[s](),e},calculateCaretPosition:function(){var a=t.data("mask-previus-value")||"",e=s.getMasked(),n=s.getCaret();if(a!==e){var r=t.data("mask-previus-caret-pos")||0,o=e.length,i=a.length,l=0,c=0,u=0,k=0,v=0;for(v=n;v<o&&s.maskDigitPosMap[v];v++)c++;for(v=n-1;v>=0&&s.maskDigitPosMap[v];v--)l++;for(v=n-1;v>=0;v--)s.maskDigitPosMap[v]&&u++;for(v=r-1;v>=0;v--)s.maskDigitPosMapOld[v]&&k++;if(n>i)n=10*o;else if(r>=n&&r!==i){if(!s.maskDigitPosMapOld[n]){var h=n;n-=k-u,n-=l,s.maskDigitPosMap[n]&&(n=h)}}else n>r&&(n+=u-k,n+=c)}return n},behaviour:function(e){e=e||event,s.invalid=[];var n=t.data("mask-keycode");if(-1===a.inArray(n,o.byPassKeys)){var r=s.getMasked(),i=s.getCaret();return setTimeout(function(){s.setCaret(s.calculateCaretPosition())},a.jMaskGlobals.keyStrokeCompensation),s.val(r),s.setCaret(i),s.callbacks(e)}},getMasked:function(a,t){var r,i,l=[],c=void 0===t?s.val():t+"",u=0,k=e.length,v=0,h=c.length,f=1,p="push",d=-1,g=0,m=[];n.reverse?(p="unshift",f=-1,r=0,u=k-1,v=h-1,i=function(){return u>-1&&v>-1}):(r=k-1,i=function(){return u<k&&v<h});for(var M;i();){var y=e.charAt(u),b=c.charAt(v),w=o.translation[y];w?(b.match(w.pattern)?(l[p](b),w.recursive&&(-1===d?d=u:u===r&&u!==d&&(u=d-f),r===d&&(u-=f)),u+=f):b===M?(g--,M=void 0):w.optional?(u+=f,v-=f):w.fallback?(l[p](w.fallback),u+=f,v-=f):s.invalid.push({p:v,v:b,e:w.pattern}),v+=f):(a||l[p](y),b===y?(m.push(v),v+=f):(M=y,m.push(v+g),g++),u+=f)}var C=e.charAt(r);k!==h+1||o.translation[C]||l.push(C);var x=l.join("");return s.mapMaskdigitPositions(x,m,h),x},mapMaskdigitPositions:function(a,t,e){var r=n.reverse?a.length-e:0;s.maskDigitPosMap={};for(var o=0;o<t.length;o++)s.maskDigitPosMap[t[o]+r]=1},callbacks:function(a){var r=s.val(),o=r!==i,l=[r,a,t,n],c=function(a,t,e){"function"==typeof n[a]&&t&&n[a].apply(this,e)};c("onChange",!0===o,l),c("onKeyPress",!0===o,l),c("onComplete",r.length===e.length,l),c("onInvalid",s.invalid.length>0,[r,a,t,s.invalid,n])}};t=a(t);var r,o=this,i=s.val();e="function"==typeof e?e(s.val(),void 0,t,n):e,o.mask=e,o.options=n,o.remove=function(){var a=s.getCaret();return o.options.placeholder&&t.removeAttr("placeholder"),t.data("mask-maxlength")&&t.removeAttr("maxlength"),s.destroyEvents(),s.val(o.getCleanVal()),s.setCaret(a),t},o.getCleanVal=function(){return s.getMasked(!0)},o.getMaskedVal=function(a){return s.getMasked(!1,a)},o.getRegexMask=function(){return s.getRegexMask()},o.init=function(i){if(i=i||!1,n=n||{},o.clearIfNotMatch=a.jMaskGlobals.clearIfNotMatch,o.byPassKeys=a.jMaskGlobals.byPassKeys,o.translation=a.extend({},a.jMaskGlobals.translation,n.translation),o=a.extend(!0,{},o,n),r=s.getRegexMask(),i)s.events(),s.val(s.getMasked());else{n.placeholder&&t.attr("placeholder",n.placeholder),t.data("mask")&&t.attr("autocomplete","off");for(var l=0,c=!0;l<e.length;l++){var u=o.translation[e.charAt(l)];if(u&&u.recursive){c=!1;break}}c&&t.attr("maxlength",e.length).data("mask-maxlength",!0),s.destroyEvents(),s.events();var k=s.getCaret();s.val(s.getMasked()),s.setCaret(k)}},o.init(!t.is("input"))};a.maskWatchers={};var e=function(){var e=a(this),s={},r=e.attr("data-mask");if(e.attr("data-mask-reverse")&&(s.reverse=!0),e.attr("data-mask-clearifnotmatch")&&(s.clearIfNotMatch=!0),"true"===e.attr("data-mask-selectonfocus")&&(s.selectOnFocus=!0),n(e,r,s))return e.data("mask",new t(this,r,s))},n=function(t,e,n){n=n||{};var s=a(t).data("mask"),r=JSON.stringify,o=a(t).val()||a(t).text();try{return"function"==typeof e&&(e=e(o)),"object"!=typeof s||r(s.options)!==r(n)||s.mask!==e}catch(a){}};a.fn.mask=function(e,s){s=s||{};var r=this.selector,o=a.jMaskGlobals,i=o.watchInterval,l=s.watchInputs||o.watchInputs,c=function(){if(n(this,e,s))return a(this).data("mask",new t(this,e,s))};return a(this).each(c),r&&""!==r&&l&&(clearInterval(a.maskWatchers[r]),a.maskWatchers[r]=setInterval(function(){a(document).find(r).each(c)},i)),this},a.fn.masked=function(a){return this.data("mask").getMaskedVal(a)},a.fn.unmask=function(){return clearInterval(a.maskWatchers[this.selector]),delete a.maskWatchers[this.selector],this.each(function(){var t=a(this).data("mask");t&&t.remove().removeData("mask")})},a.fn.cleanVal=function(){return this.data("mask").getCleanVal()},a.applyDataMask=function(t){t=t||a.jMaskGlobals.maskElements,(t instanceof a?t:a(t)).filter(a.jMaskGlobals.dataMaskAttr).each(e)};var s={maskElements:"input,td,span,div",dataMaskAttr:"*[data-mask]",dataMask:!0,watchInterval:300,watchInputs:!0,keyStrokeCompensation:10,useInput:!/Chrome\/[2-4][0-9]|SamsungBrowser/.test(navigator.userAgent)&&function(a){var t,e=document.createElement("div");return a="on"+a,t=a in e,t||(e.setAttribute(a,"return;"),t="function"==typeof e[a]),e=null,t}("input"),watchDataMask:!1,byPassKeys:[9,16,17,18,36,37,38,39,40,91],translation:{0:{pattern:/\d/},9:{pattern:/\d/,optional:!0},"#":{pattern:/\d/,recursive:!0},A:{pattern:/[a-zA-Z0-9]/},S:{pattern:/[a-zA-Z]/}}};a.jMaskGlobals=a.jMaskGlobals||{},s=a.jMaskGlobals=a.extend(!0,{},s,a.jMaskGlobals),s.dataMask&&a.applyDataMask(),setInterval(function(){a.jMaskGlobals.watchDataMask&&a.applyDataMask()},s.watchInterval)}(jQuery);
!function(e){var t=function(){function t(t,i,s,o,n,a){var r=this;void 0===n&&(n=!1),this.couponBar=null,this.element=t,this.id=i,this.options=s,this.options.appear=s.appear.split(";"),this.status="hidden",this.standalone=n,this.couponBar=a,this.game=new e.Game(t,i,s.plays,s.sound,o,function(i){r.options.retry?e.Helpers.setOccurance(r.options.retryOccurance,r.id,r.options.retryOccuranceData):e.Helpers.setOccurance("storage",r.id),r.couponBar&&i.winning&&1==i.type&&r.couponBar.show(i.value),r.options.confetti&&i.winning&&new e.Fetti(t.find(".wof-pointer")[0])})}return t.prototype.canShowWidgets=function(){return"hidden"===this.status&&((!this.options.hideMobile||!e.Helpers.isDevice("mobile"))&&((!this.options.hideTablet||!e.Helpers.isDevice("tablet"))&&((!this.options.hideDesktop||!e.Helpers.isDevice("desktop"))&&(!this.standalone&&this.canShow()))))},t.prototype.show=function(t){"hidden"===this.status&&(this.options.hideMobile&&e.Helpers.isDevice("mobile")&&"click"!==t||this.options.hideDesktop&&e.Helpers.isDevice("desktop")&&"click"!==t||this.options.hideTablet&&e.Helpers.isDevice("tablet")&&"click"!==t||(this.standalone||this.canShow()||"click"===t)&&(this.element.addClass("wof-visible"),this.widgets.removeClass("wof-visible"),this.standalone||(jQuery(".wof-overlay").fadeIn(170),setTimeout(function(){jQuery(document.body).addClass("wof-is-open")},170),"click"!==t&&e.Helpers.setOccurance(this.options.occurance,this.id,this.options.occuranceData)),this.status="visible",e.Helpers.registerView(this.id)))},t.prototype.hide=function(e){void 0===e&&(e=!1),"hidden"!==this.status&&(this.element.removeClass("wof-visible"),this.status="hidden",this.standalone||-1!==jQuery.inArray("click",this.options.appear)||(this.element.remove(),this.status="removed"),this.standalone||jQuery(".wof-wheel.wof-visible").not('[data-standalone="1"]').length||(jQuery(".wof-overlay").fadeOut(170),setTimeout(function(){jQuery(document.body).removeClass("wof-is-open")},170)))},t.prototype.canShow=function(){var t="wof-"+this.id;return!(sessionStorage.getItem(t)||localStorage.getItem(t)||e.Cookie.has(t))},t}();e.Wheel=t}(WOF||(WOF={}));